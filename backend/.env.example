# Obscura Ã— Miden Backend Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
PORT=5000
NODE_ENV=development
CORS_ORIGIN=http://localhost:3000

# ============================================================================
# MIDEN CONFIGURATION (REAL TESTNET)
# ============================================================================

# Miden Client Path (if not in PATH)
MIDEN_CLIENT_PATH=miden-client

# Miden Testnet RPC URL
MIDEN_RPC_URL=https://testnet-rpc.polygon.technology/miden

# Miden Client Store Path (local account data)
MIDEN_STORE_PATH=./.miden-store

# Miden Contracts Path
MIDEN_CONTRACTS_PATH=../contracts

# Main Account ID (created during deployment)
# Get this from: miden-client account -l
MIDEN_ACCOUNT_ID=0x22539884c0681b000aabe378f50a19

# Escrow Template Account ID (created during deployment)
MIDEN_ESCROW_TEMPLATE_ID=

# ============================================================================
# IPFS CONFIGURATION (Encrypted Metadata Storage)
# ============================================================================

# # IPFS Provider
# IPFS_HOST=ipfs.infura.io
# IPFS_PORT=5001
# IPFS_PROTOCOL=https

# # Infura IPFS Credentials (get from https://infura.io)
# IPFS_PROJECT_ID=your_infura_project_id
# IPFS_PROJECT_SECRET=your_infura_project_secret

# Pinata IPFS Configuration
PINATA_API_KEY=45e4a285be25582c689c
PINATA_SECRET_KEY=5db54dfbd1c7ae06ed82f427579c6f95b4846f718f634c93cba977c22208d09a


# Or use local IPFS node
# IPFS_HOST=localhost
# IPFS_PORT=5001
# IPFS_PROTOCOL=http

# ============================================================================
# ENCRYPTION CONFIGURATION
# ============================================================================

# AES-256-GCM encryption key for property metadata (32 bytes)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your_32_byte_encryption_key_change_in_production

# ============================================================================
# EXPLORER CONFIGURATION
# ============================================================================

# Miden Testnet Explorer URL
MIDEN_EXPLORER_URL=https://testnet.midenscan.com

# ============================================================================
# API CONFIGURATION
# ============================================================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Request Timeout (ms)
REQUEST_TIMEOUT=30000

# Max File Upload Size (bytes)
MAX_FILE_SIZE=10485760

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log Level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Log Directory
LOG_DIR=./logs

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# JWT Secret (for future authentication)
JWT_SECRET=your_jwt_secret_change_in_production

# Session Secret
SESSION_SECRET=your_session_secret_change_in_production

# ============================================================================
# DATABASE CONFIGURATION (Optional - for caching)
# ============================================================================

# MongoDB (optional - for caching Miden data)
# MONGODB_URI=mongodb://localhost:27017/obscura-miden

# Redis (optional - for session storage)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# ============================================================================
# TESTNET FAUCET (For Development)
# ============================================================================

# Faucet URL for getting test tokens
FAUCET_URL=https://faucet.testnet.polygon.technology/miden

# ============================================================================
# WEBHOOK CONFIGURATION (Optional)
# ============================================================================

# Webhook URL for transaction notifications
# WEBHOOK_URL=https://your-app.com/webhook

# Webhook Secret
# WEBHOOK_SECRET=your_webhook_secret

# ============================================================================
# MONITORING & ANALYTICS (Optional)
# ============================================================================

# Sentry DSN (for error tracking)
# SENTRY_DSN=

# Analytics API Key
# ANALYTICS_API_KEY=

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================

# Enable debug mode
DEBUG=false

# Mock Miden Client (for testing without real Miden)
MOCK_MIDEN_CLIENT=false

# ============================================================================
# NOTES
# ============================================================================
# 
# 1. Get MIDEN_ACCOUNT_ID by running deployment script:
#    npm run deploy:testnet
#
# 2. Get testnet tokens from faucet:
#    https://faucet.testnet.polygon.technology/miden
#
# 3. Verify setup:
#    npm run miden:sync
#    npm run miden:accounts
#
# 4. Start development server:
#    npm run dev
#
